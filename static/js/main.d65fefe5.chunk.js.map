{"version":3,"sources":["contexts/CurrentUserContext.js","components/Footer.js","image/logo.svg","components/Header.js","components/ImagePopup.js","image/pencil.svg","components/Card.js","components/Main.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","createContext","Footer","className","Header","src","logo","alt","ImagePopup","props","card","type","onClick","onClose","link","name","Card","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardRemoveBtnClassName","cardLikeBtnClassName","onCardClick","onCardDelete","onCardLike","length","Main","cardList","map","cards","avatarSwitch","avatar","onEditAvatar","onEditProfile","about","onAddPlace","api","baseUrl","headers","this","_url","_headers","fetch","method","then","res","_addResult","body","JSON","stringify","cardId","ok","json","Promise","reject","status","authorization","PopupWithForm","isOpen","title","onSubmit","noValidate","children","value","EditProfilePopup","useState","setName","setAbout","useEffect","event","preventDefault","onUpdateUser","id","onChange","target","required","minLength","maxLength","EditAvatarPopup","refAvatar","useRef","current","onUpdateAvatar","placeholder","ref","AddPlacePopup","setLink","onAddPlacePopup","App","setCurrentUser","getUserInfo","data","catch","err","console","log","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","submit","setValue","closeAllPopups","getInitialCards","handleCloseOnEsc","key","handleCloseOnOverlay","classList","contains","document","addEventListener","removeEventListener","Provider","toggleLikeCardStatus","newCard","state","c","deleteCard","filter","editUserInfo","addPlace","editUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d65fefe5.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nexport const CurrentUserContext = createContext([]);\n","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer page__section\">\n      <p className=\"footer__copyright\"> &copy; 2020 Ивлев Артём</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import React from \"react\";\nimport logo from \"../image/logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header page__section\">\n      <img src={logo} alt=\"логотип: место россия\" className=\"header__logo\" />\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_type_elementPreview ${\n        props.card ? \"popup_is-opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__container popup__image-preview-container\">\n        <button\n          type=\"button\"\n          className=\"popup__closeBtn\"\n          onClick={props.onClose}\n        />\n        <img\n          src={props.card.link}\n          alt={props.card.name}\n          className=\"popup__image-preview\"\n        />\n        <p className=\"popup__text popup__title popup__title_image-preview\">\n          {props.card.name}\n        </p>\n      </div>\n    </div>\n  );\n}\nexport default ImagePopup;\n","export default __webpack_public_path__ + \"static/media/pencil.8667ac4a.svg\";","import { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  const cardRemoveBtnClassName = `element__remove-btn ${\n    isOwn ? \"element__remove-btn_visible\" : \"element__remove-btn_hidden\"\n  }`;\n  const cardLikeBtnClassName = `element__like-btn ${\n    isLiked ? \"element__like-btn_active\" : \"\"\n  }`;\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card);\n  }\n  return (\n    <li className=\"element\">\n      <img\n        className=\"element__image-btn element__image\"\n        src={props.card.link}\n        alt={props.card.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__description\">\n        <h3 className=\"element__title\">{props.card.name}</h3>\n        <button className={cardRemoveBtnClassName} onClick={handleCardDelete} />\n        <div className=\"element__like-container\">\n          <button className={cardLikeBtnClassName} onClick={handleLikeClick} />\n          <div className=\"element__like-count\">{props.card.likes.length}</div>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import avatarSwitch from \"../image/pencil.svg\";\nimport Card from \"./Card\";\nimport { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst Main = (props) => {\n  const currentUser = useContext(CurrentUserContext);\n\n  const cardList = props.card.map((cards) => (\n    <Card\n      key={cards._id}\n      card={cards}\n      onCardClick={props.onCardClick}\n      onCardLike={props.onCardLike}\n      onCardDelete={props.onCardDelete}\n    />\n  ));\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile page__section\">\n        <div className=\"profile__avatar-container\">\n          <img\n            src={avatarSwitch}\n            className=\"profile__editAvatar\"\n            alt=\"Смена аватара\"\n          />\n          <img\n            src={currentUser.avatar}\n            alt=\"Аватар\"\n            className=\"profile__avatar\"\n            onClick={props.onEditAvatar}\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__container\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              type=\"button\"\n              className=\"profile__edit-btn\"\n              onClick={props.onEditProfile}\n            />\n          </div>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button\n          type=\"button\"\n          className=\"profile__add-btn\"\n          onClick={props.onAddPlace}\n        />\n      </section>\n      <section className=\"page__section\">\n        <ul className=\"elements\">{cardList}</ul>\n      </section>\n    </main>\n  );\n};\n\nexport default Main;\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this._url = baseUrl;\n    this._headers = headers;\n  }\n\n  //запрос на начальные карточки\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => this._addResult(res));\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: this._headers,\n    }).then((res) => this._addResult(res));\n  }\n\n  editUserInfo(name, about) {\n    return fetch(`${this._url}/users/me/`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((res) => this._addResult(res));\n  }\n\n  editUserAvatar(avatar) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((res) => this._addResult(res));\n  }\n\n  addPlace(name, link) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: name,\n        link: link,\n      }),\n    }).then((res) => this._addResult(res));\n  }\n\n  toggleLikeCardStatus(cardId, isLiked) {\n    if (isLiked) {\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\n        method: \"PUT\",\n        headers: this._headers,\n      }).then((res) => this._addResult(res));\n    } else {\n      return fetch(`${this._url}/cards/likes/${cardId}`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then((res) => this._addResult(res));\n    }\n  }\n\n  deleteCard(cardId, isOwn) {\n    if (isOwn)\n      return fetch(`${this._url}/cards/${cardId}`, {\n        method: \"DELETE\",\n        headers: this._headers,\n      }).then((res) => this._addResult(res));\n  }\n\n  _addResult(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-20\",\n  headers: {\n    authorization: \"c991fcc7-9f95-4717-b779-f2f9eb8f4dbe\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","function PopupWithForm(props) {\n  return (\n    <div\n      className={`popup popup_type_ ${props.type} ${\n        props.isOpen ? \"popup_is-opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__container\">\n        <button\n          type=\"button\"\n          className=\"popup__closeBtn\"\n          onClick={props.onClose}\n        />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <form\n          className={`popup__form ${props.type}-form`}\n          onSubmit={props.onSubmit}\n          noValidate\n        >\n          {props.children}\n          <input\n            type=\"submit\"\n            value={props.value}\n            className=\"popup__save-btn profileEditor-saveBtn\"\n          />\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport { useContext, useState, useEffect } from \"react\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState();\n  const [about, setAbout] = useState();\n\n  const handleNameChange = (event) => {\n    setName(event.target.value);\n  };\n  const handleAboutChange = (event) => {\n    setAbout(event.target.value);\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    props.onUpdateUser({\n      name,\n      about,\n    });\n  }\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [props.isOpen, currentUser]);\n\n  return (\n    <PopupWithForm\n      type=\"profileEditor\"\n      title=\"Редактировать профиль\"\n      value={props.value}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        name=\"name\"\n        id=\"profile-name\"\n        type=\"text\"\n        value={name || \"\"}\n        onChange={handleNameChange}\n        className=\"popup__text popup__text_valid popup__name-input\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n      />\n      <span id=\"profile-name-error\" className=\"popup__error\" />\n      <input\n        name=\"job\"\n        id=\"profile-job\"\n        type=\"text\"\n        value={about || \"\"}\n        onChange={handleAboutChange}\n        className=\"popup__text popup__text_valid popup__job-input\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n      <span id=\"profile-job-error\" className=\"popup__error\" />\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import { useEffect, useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvatarPopup(props) {\n  const refAvatar = useRef();\n  \n  function handleSubmit(event) {\n    event.preventDefault();\n    props.onUpdateAvatar({\n      avatar: refAvatar.current.value,\n    });\n  }\n\n  useEffect(() => {\n    refAvatar.current.value = \"\";\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      type=\"popupEditAvatar\"\n      title=\"Обновить аватар\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      value={props.value}\n      onSubmit={handleSubmit}\n    >\n      <input\n        name=\"avatar\"\n        id=\"URL\"\n        type=\"url\"\n        className=\"popup__text popup__text_valid popupAvatarUrl\"\n        placeholder=\"Ссылка на аватар\"\n        required\n        ref={refAvatar}\n      />\n      <span id=\"URL-error\" className=\"popup__error\" />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from \"./PopupWithForm.js\";\nimport { useState, useEffect } from \"react\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState();\n  const [link, setLink] = useState();\n\n  const handleNameChange = (event) => {\n    setName(event.target.value);\n  };\n  const handleLinkChange = (event) => {\n    setLink(event.target.value);\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    props.onAddPlacePopup({ name, link });\n  }\n\n  useEffect(() => {\n    setName(\"\");\n    setLink(\"\");\n  }, [props.isOpen]);\n\n  return (\n    <PopupWithForm\n      type=\"newElement\"\n      title=\"Новое место\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n    >\n      <input\n        name=\"name\"\n        id=\"new-element-name\"\n        type=\"text\"\n        className=\"popup__text popup__text_valid popup__element-title\"\n        placeholder=\"Название\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n        value={name || \"\"}\n        onChange={handleNameChange}\n      />\n      <span id=\"new-element-name-error\" className=\"popup__error\" />\n      <input\n        name=\"link\"\n        id=\"url-element\"\n        type=\"url\"\n        className=\"popup__text popup__text_valid popup__element-link\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        value={link || \"\"}\n        onChange={handleLinkChange}\n      />\n      <span id=\"url-element-error\" className=\"popup__error\" />\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import { useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport ImagePopup from \"./ImagePopup\";\nimport Main from \"./Main\";\nimport api from \"../utils/api\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [currentUser, setCurrentUser] = useState({});\n\n  useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  const [cards, setCards] = useState([]);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState(false);\n  const [value, setValue] = useState({\n    submit: \"Сохранить\",\n  });\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard(false);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      name: card.name,\n      link: card.link,\n    });\n  }\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .toggleLikeCardStatus(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const handleCardDelete = (card) => {\n    const isOwn = card.owner._id === currentUser._id;\n    api\n      .deleteCard(card._id, isOwn)\n      .then(() => {\n        const newCard = cards.filter((c) => c._id !== card._id);\n        setCards(newCard);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  useEffect(() => {\n    api\n      .getInitialCards()\n      .then((cards) => {\n        setCards(cards);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleAddPlaceSubmit({ name, link }) {\n    setValue({ ...value, submit: \"Сохраняю данные...\" });\n    api\n      .addPlace(name, link)\n      .then((newCard) => setCards([newCard, ...cards]))\n      .then(() => {\n        closeAllPopups();\n        setValue({ ...value, submit: \"Сохранить\" });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setValue({ ...value, submit: \"Сохраняю данные...\" });\n    api\n      .editUserInfo(name, about)\n      .then(() => setCurrentUser({ ...currentUser, name: name, about: about }))\n      .then(() => {\n        closeAllPopups();\n        setValue({ ...value, submit: \"Сохранить\" });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleAvatarUpdate({ avatar }) {\n    setValue({ ...value, submit: \"Сохраняю данные...\" });\n    api\n      .editUserAvatar(avatar)\n      .then(() => setCurrentUser({ ...currentUser, avatar: avatar }))\n      .catch((err) => console.log(err))\n      .then(() => {\n        closeAllPopups();\n        setValue({ ...value, submit: \"Сохранить\" });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  useEffect(() => {\n    const handleCloseOnEsc = (event) => {\n      if (event.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n    const handleCloseOnOverlay = (event) => {\n      if (event.target.classList.contains(\"popup_is-opened\")) {\n        closeAllPopups();\n      }\n    };\n\n    document.addEventListener(\"keydown\", handleCloseOnEsc);\n    document.addEventListener(\"click\", handleCloseOnOverlay);\n\n    return () => {\n      document.removeEventListener(\"keydown\", handleCloseOnEsc);\n      document.removeEventListener(\"click\", handleCloseOnOverlay);\n    };\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <div className=\"page__container\">\n            <Header />\n            <Main\n              card={cards}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onCardDelete={handleCardDelete}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n            />\n            <Footer />\n\n            <EditProfilePopup\n              isOpen={isEditProfilePopupOpen}\n              onClose={closeAllPopups}\n              value={value.submit}\n              onUpdateUser={handleUpdateUser}\n            />\n\n            <AddPlacePopup\n              onClose={closeAllPopups}\n              isOpen={isAddPlacePopupOpen}\n              onAddPlacePopup={handleAddPlaceSubmit}\n            />\n\n            <EditAvatarPopup\n              isOpen={isEditAvatarPopupOpen}\n              onClose={closeAllPopups}\n              value={value.submit}\n              onUpdateAvatar={handleAvatarUpdate}\n            />\n            <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n          </div>\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App.js\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}